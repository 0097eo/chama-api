# ----------------------------------
# API & SERVER CONFIGURATION
# ----------------------------------
# The port your Express server will run on
PORT=3000
# A comma-separated list of allowed origins for CORS
# For development, this is often the frontend URL. For production, your domain.
# Example: http://localhost:5173,https://your-frontend-app.com
CORS_ORIGINS=http://localhost:5173

# ----------------------------------
# DATABASE CONFIGURATION
# ----------------------------------
# Connection string for your PostgreSQL database.
# The format is: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# For local Docker setup, this will point to the Docker container.
DATABASE_URL="postgresql://chama_user:chama_password@localhost:5432/chama_db?schema=public"

# ----------------------------------
# JWT AUTHENTICATION
# ----------------------------------
# A long, random, and secret string for signing JWTs.
# Use a password generator to create a strong secret.
JWT_SECRET="YOUR_SUPER_STRONG_AND_RANDOM_JWT_SECRET"
# How long a token is valid for (e.g., 1h, 7d, 30m)
JWT_EXPIRES_IN="1d"

# ----------------------------------
# ENCRYPTION KEYS
# ----------------------------------
# A 32-character (256-bit) key for encrypting/decrypting sensitive data in the database.
# Generate this using a secure method.
ENCRYPTION_KEY="YOUR_32_CHARACTER_LONG_ENCRYPTION_KEY"

# ----------------------------------
# M-PESA DARAJA API CREDENTIALS
# ----------------------------------
# Get these from the Safaricom Developer Portal
MPESA_CONSUMER_KEY="YOUR_MPESA_CONSUMER_KEY"
MPESA_CONSUMER_SECRET="YOUR_MPESA_CONSUMER_SECRET"
# The Lipa Na M-Pesa Online Passkey
MPESA_PASSKEY="YOUR_MPESA_PASSKEY"
# Business Shortcode for Lipa Na M-Pesa
MPESA_SHORTCODE="174379"
# The URL to receive callbacks from Safaricom
MPESA_CALLBACK_URL="https://your-api-domain.com/api/payments/mpesa-callback"
# M-Pesa API environment: 'sandbox' or 'live'
MPESA_ENV=sandbox

# ----------------------------------
# EMAIL SERVICE CONFIGURATION (e.g., for Mailtrap, SendGrid, or Gmail)
# ----------------------------------
SMTP_HOST="smtp.mailtrap.io"
SMTP_PORT=2525
SMTP_USER="YOUR_SMTP_USER"
SMTP_PASS="YOUR_SMTP_PASSWORD"
EMAIL_FROM="no-reply@chama-app.com"

# ----------------------------------
# SMS SERVICE CONFIGURATION (e.g., for Africa's Talking)
# ----------------------------------
# Get these from your SMS provider's dashboard
SMS_API_KEY="YOUR_SMS_PROVIDER_API_KEY"
SMS_USERNAME="YOUR_SMS_PROVIDER_USERNAME"

# ----------------------------------
# FILE UPLOAD SETTINGS
# ----------------------------------
# Storage strategy: 'local' or 'cloudinary'
FILE_STORAGE_STRATEGY=cloudinary

# CLOUDINARY CONFIGURATION
# Get these credentials from your Cloudinary Dashboard
CLOUDINARY_CLOUD_NAME="YOUR_CLOUD_NAME"
CLOUDINARY_API_KEY="YOUR_API_KEY"
CLOUDINARY_API_SECRET="YOUR_API_SECRET"

# Loan Management Configuration
# -------------------------------------
# A member can borrow up to X times their total contributions.
LOAN_ELIGIBILITY_MULTIPLIER=3
# Penalty rate for loans in default (e.g., 0.02 for 2% of outstanding balance).
LOAN_DEFAULT_PENALTY_RATE=0.02